<!DOCTYPE html>

<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous" />

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,1,0" />

    <title>Iniciar Sesión</title>
  </head>

  <body>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>

    <main class="bg-light min-vh-100 d-flex" style="justify-content: center; align-items: center;">

        <p class="visually-hidden" id="error">{{error}}</p>

        <div class="card w-75 border-0 bg-light" style="max-width: 500px;">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/10/Logotipo_UCI_2.png/1280px-Logotipo_UCI_2.png" class="w-50 m-5" style="align-self: center;"/>
            
            <form class="p-3" method="post" name="formulario">
                {% csrf_token %}
                <div class="input-group mb-3">
                    <input id="email" type="text" class="form-control pt-3 pb-3" placeholder="Correo electrónico" name="email" required>
                </div>

                <div class="input-group">
                    <input type="password" class="form-control pt-3 pb-3" placeholder="Contraseña" aria-describedby="basic-addon1" id="pass" name="password" required>
                    <span class="input-group-text"  id="basic-addon1">
                        <span class="material-symbols-rounded" style="cursor: pointer;" id="pass_visibility">visibility</span>
                    </span>
                </div>

            </form>

            <p class="text-end p-3 fw-semibold"><a href="{% url 'crear_solicitud' %}" style="text-decoration: none;">Crear solicitud</a></p>

            <button id="btn_enviar" class="m-3 btn btn-primary pt-3 pb-3">Entrar</button>

        </div>

    </main>

    <script>

        pass_visibility.addEventListener("click", ()=>{
            if(pass_visibility.innerHTML == "visibility"){
                pass_visibility.innerHTML = 'visibility_off';
                pass.type = 'text';
            }else{
                pass_visibility.innerHTML = 'visibility';
                pass.type = 'password';
            }
        });

        btn_enviar.addEventListener("click", ()=>{
            if(email.value != "" && pass.value != ""){
                document.formulario.submit();
            }else{
                alert("Campos obligatorios vacíos");
            }
        });

        window.addEventListener('load', ()=>{
            if(error.innerHTML != ""){
                alert(error.innerHTML);
            }
        });
    </script>
    
  </body>
</html>
